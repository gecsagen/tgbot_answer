##  –û –ø—Ä–æ–µ–∫—Ç–µ:  
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ —Å –∞–¥–º–∏–Ω–∫–æ–π –Ω–∞ Django. –ë–æ—Ç –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –±–æ—Ç–∞ –º–æ–∂–µ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤, –±–æ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏–∑ –ë–î –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç. –ë–æ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –Ω–µ —Å–ª–µ–ø–æ, –∞ –ø–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º –ø–æ—Ö–æ–∂–µ—Å—Ç–∏ –∏ —Ç.–æ –≤—ã–¥–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç.  

## –°—Ç–µ–∫:
1. –ë–æ—Ç: [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot "python-telegram-bot")
2. –ê–¥–º–∏–Ω–∫–∞: [Django](https://www.djangoproject.com/ "Django")

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:  
1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:  
`git clone https://github.com/gecsagen/tgbot_answer`  
2. –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:  
```
bot_answer
pyhon -m venv .venv
```
3. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ:  
`source .venv/bin/activate`  
4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:  
`pip install -r requirements.txt`  
5. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª **settings.json** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–µ–º **settings.examle.json**:  
```
"token": "  –¢–æ–∫–µ–Ω —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞"
"about_as": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏"
"contact_phones": "–°–ø–∏—Å–æ–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤"
"contact_emails": "–°–ø–∏—Å–æ–∫ –µ–º–∞–π–ª–æ–≤"
"address_list": "–°–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤"
"how_to_use": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º
"debug": "–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –¥–ª—è Django
"secret_key": "–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞ Django"  

```
–°–ª–µ–¥—É–π—Ç–µ –æ–±—Ä–∞–∑—Ü—É –∏–∑ **settings.examle.json**  

7. –í—ã–ø–æ–ª–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏:  
`python manage.py migrate`  
6. –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∫–∏:  
`python manage.py createsuperuser`  
8. –ó–∞–ø—É—Å–∫–∞–µ–º –∞–¥–º–∏–Ω–∫—É:  
`python manage.py runserver`  
–∏–ª–∏ —á–µ—Ä–µ–∑ **gunicorn**:  
`gunicorn --bind 0.0.0.0:8000 config.wsgi`  
9. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –∞–¥–º–∏–Ω–∫—É –ø–æ **127.0.0.1:8000** –∏ –∑–∞–ø–æ–ª–Ω—è–µ–º –≤–æ–ø—Ä–æ—Å–∞–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –∞–¥–º–∏–Ω–∫—É.  
10. –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:  
`python manage.py bot`  
## –î–µ–ø–ª–æ–π:  
1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:  
`git clone https://github.com/gecsagen/tgbot_answer`  
2. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç **setup.sh**  
`./setup.sh`  
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª **settings.json** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–µ–º **settings.examle.json**  
4. –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∫–∏:  
`python manage.py createsuperuser`  
5. –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª **systemd**:  
`sudo nano /etc/systemd/system/gunicorn.socket`  
–°–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:  
```
[Unit]
Description=gunicorn socket

[Socket]
ListenStream=/run/gunicorn.sock

[Install]
WantedBy=sockets.target
```
5. C–æ–∑–¥–∞–µ–º —Å–ª—É–∂–µ–±–Ω—ã–π —Ñ–∞–π–ª **systemd** –¥–ª—è **gunicorn** —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã:  

`sudo nano /etc/systemd/system/gunicorn.service`  

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:  
–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —á—Ç–æ –≤—ã —Å–∫–ª–æ–Ω–∏—Ä—É–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é **root**, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ –ø—É—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º. –ï—Å–ª–∏ –≤—ã —Å–∫–ª–æ–∏—Ä—É–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –¥—Ä—É–≥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, —Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö –Ω–∞ –≤–∞–ª–∏–¥–Ω—ã–µ.
```  
[Unit]
Description=gunicorn daemon
After=network.target

[Service]
User=root
Group=www-data
WorkingDirectory=/root/tgbot_answer
ExecStart=/root/tgbot_answer/.venv/bin/gunicorn \
        --access-logfile - \
        --workers 3 \
        --bind unix:/run/gunicorn.sock \
        config.wsgi:application
        
[Install]
WantedBy=multi-user.target
```
6. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å **systemd gunicorn** –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —à–∞–≥–∞:  
```
sudo systemctl start gunicorn.socket
sudo systemctl enable gunicorn.socket
```  
7. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ **nginx**:  
`sudo nano /etc/nginx/sites-available/tgbot_answer`  
–°–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:  
```
server {
    listen 80;
    server_name 93.202.86.15;

    location = /favicon.ico { access_log off; log_not_found off; }

    location / {
        include proxy_params;
        proxy_pass http://unix:/run/gunicorn.sock;
    }

    location  /static/ {
        root /root/tgbot_answer;
    }
}
```
üî¥‚ùó–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–º–µ–Ω—è–π—Ç–µ ip server_name **93.202.86.15** –Ω–∞ ip –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞‚ùóüî¥    
8. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **nginx**: 
`sudo nano /etc/nginx/nginx.conf`  
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ—á–∫–µ –Ω–∞ **root**:  
`user root;`  
9. –°–≤—è–∂–∏—Ç–µ —Ñ–∞–π–ª —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–∞–π—Ç–æ–≤:  
`sudo ln -s /etc/nginx/sites-available/tgbot_answer /etc/nginx/sites-enabled`  
10. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ nginx, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –ø–æ—Ä—Ç –≤ —Ñ–∞–µ–≤–æ–ª–µ:  
```
systemctl restart nginx
sudo ufw allow 'Nginx Full'
sudo systemctl status nginx
``` 
11. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞:  
`sudo nano /etc/systemd/system/bot.service`  
–°–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:  
```
[Unit]
Description=bot daemon
Requires=gunicorn.service
After=gunicorn.service

[Service]
User=root
Group=www-data
WorkingDirectory=/root/tgbot_answer
ExecStart=/root/tgbot_answer/bot.sh

[Install]
WantedBy=multi-user.target
```  
12. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –±–æ—Ç–∞:  
```
systemctl start bot.service
systemctl enable bot.service
systemctl status bot
```

13. –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ **http://domain_name_or_server_IP/admin** –∏ –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É –±–æ—Ç–∞. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å. 





